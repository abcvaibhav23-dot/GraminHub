{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block content %}
<section class="gh-login-shell mx-auto max-w-6xl overflow-hidden rounded-3xl border border-white/40 shadow-2xl">
  <div class="grid lg:grid-cols-[1.1fr_0.9fr]">
    <article class="relative overflow-hidden p-7 sm:p-10">
      <div class="gh-login-blur-circle left-[-60px] top-[-60px]"></div>
      <div class="gh-login-blur-circle right-[-50px] bottom-[-70px]"></div>
      <div class="relative z-10">
        <div class="flex items-center gap-3">
          <img src="/static/img/graminhub-mark.svg" alt="GraminHub logo" class="h-14 w-14 rounded-2xl shadow-md" />
          <div>
            <p class="font-display text-2xl font-extrabold text-white">GraminHub</p>
            <p data-login-i18n="brand_subtitle" class="text-sm text-emerald-100">भरोसेमंद ग्रामीण सेवा मंच</p>
          </div>
        </div>

        <p data-login-i18n="secure_badge" class="mt-6 inline-flex rounded-full border border-white/35 bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.16em] text-white">Secure Login</p>
        <h1 data-login-i18n="hero_title" class="font-display mt-3 text-3xl font-extrabold leading-tight text-white sm:text-5xl">लॉगिन करें और अपनी बुकिंग प्रक्रिया आसानी से जारी रखें</h1>
        <p data-login-i18n="hero_desc" class="mt-4 max-w-xl text-sm leading-relaxed text-emerald-50 sm:text-base">
          यहां से आप सप्लायर खोज, कॉल, WhatsApp बुकिंग और डैशबोर्ड एक्सेस एक ही जगह से कंट्रोल कर सकते हैं।
        </p>

        <div class="mt-7 grid gap-3 sm:grid-cols-3">
          <div class="rounded-2xl bg-white/15 p-3 backdrop-blur">
            <p class="text-xl font-bold text-white">4+</p>
            <p data-login-i18n="stat_1" class="text-xs text-emerald-100">मुख्य श्रेणियां</p>
          </div>
          <div class="rounded-2xl bg-white/15 p-3 backdrop-blur">
            <p class="text-xl font-bold text-white">24x7</p>
            <p data-login-i18n="stat_2" class="text-xs text-emerald-100">बुकिंग रिक्वेस्ट</p>
          </div>
          <div class="rounded-2xl bg-white/15 p-3 backdrop-blur">
            <p class="text-xl font-bold text-white">Instant</p>
            <p data-login-i18n="stat_3" class="text-xs text-emerald-100">WhatsApp संपर्क</p>
          </div>
        </div>

        <ul class="mt-6 grid gap-2 text-sm text-white/90">
          <li data-login-i18n="point_1" class="rounded-xl bg-white/15 px-3 py-2">नेवबार में आपकी भूमिका (Role) तुरंत दिखाई देगी</li>
          <li data-login-i18n="point_2" class="rounded-xl bg-white/15 px-3 py-2">सप्लायर से सीधा Call या WhatsApp बुकिंग संभव</li>
          <li data-login-i18n="point_3" class="rounded-xl bg-white/15 px-3 py-2">User, Supplier, Admin सभी workflows और free stack समर्थित</li>
        </ul>
      </div>
    </article>

    <article class="gh-glass-card relative rounded-none bg-white/90 p-7 sm:p-10">
      <div class="mb-5 flex flex-wrap items-start justify-between gap-3">
        <div>
          <h2 data-login-i18n="form_title" class="font-display mb-1 text-2xl font-bold text-slate-900">लॉगिन</h2>
          <p data-login-i18n="form_desc" class="text-sm text-slate-600">Buyer, Supplier और Owner/Admin के लिए सिर्फ मोबाइल नंबर और OTP लॉगिन उपयोग करें।</p>
        </div>
        <div class="rounded-full border border-brand-100 bg-brand-50 px-3 py-1 text-xs font-semibold text-brand-700">
          <span data-login-i18n="secure_badge">Secure Login</span>
        </div>
      </div>

      <div class="rounded-xl border border-slate-200 bg-slate-50 p-4">
        <h3 data-login-i18n="otp_title" class="font-display text-lg font-bold text-slate-900">Phone OTP Login (User/Supplier/Admin)</h3>
        <p data-login-i18n="otp_desc" class="mt-1 text-xs text-slate-600">Email की जरूरत नहीं। फोन नंबर डालें, OTP लें और लॉगिन करें।</p>
        <p data-login-i18n="otp_admin_note" class="mt-1 text-[11px] text-slate-500">Owner/Admin login सिर्फ allowlisted नंबरों पर सक्षम है।</p>
        <div class="mt-3 grid gap-3">
          <input id="otpPhone" data-login-placeholder="otp_phone_placeholder" class="gh-input w-full rounded-xl px-3 py-2.5" placeholder="फोन नंबर" />
          <select id="otpRole" class="gh-input w-full rounded-xl px-3 py-2.5">
            <option data-login-option="otp_role_user" value="user">Buyer/User</option>
            <option data-login-option="otp_role_supplier" value="supplier">Supplier</option>
            <option data-login-option="otp_role_admin" value="admin">Owner/Admin</option>
          </select>
          <div class="grid gap-2 sm:grid-cols-2">
            <button onclick="requestPhoneOtp()" class="rounded-xl border border-brand-300 bg-white px-4 py-2.5 text-sm font-semibold text-brand-700 transition hover:bg-brand-50">
              <span data-login-i18n="otp_request_btn">Get OTP</span>
            </button>
            <input id="otpCode" data-login-placeholder="otp_code_placeholder" class="gh-input w-full rounded-xl px-3 py-2.5" placeholder="Enter OTP" />
          </div>
          <button onclick="verifyPhoneOtpLogin()" class="rounded-xl bg-brand-600 px-4 py-2.5 font-semibold text-white transition hover:bg-brand-700">
            <span data-login-i18n="otp_verify_btn">Verify OTP & Login</span>
          </button>
          {% if show_demo_hints %}
          <p id="otpHint" data-login-i18n="otp_hint" class="text-xs text-slate-600">Demo OTP स्क्रीन पर दिखेगा।</p>
          {% else %}
          <p id="otpHint" data-login-i18n="otp_hint" class="text-xs text-slate-600">OTP भेज दिया गया है।</p>
          {% endif %}
        </div>
      </div>

      <div data-login-i18n="token_note" class="mt-5 rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs text-slate-600">
        इस MVP डेमो में टोकन localStorage में सेव होता है।
      </div>
      {% if show_demo_hints %}
      <div class="mt-4 rounded-xl border border-emerald-100 bg-emerald-50/70 p-3 text-xs text-slate-700">
        <p data-login-i18n="login_demo_title" class="font-semibold text-emerald-800">लोकल डेमो लॉगिन</p>
        <p data-login-i18n="login_demo_desc" class="mt-1">make demo-ready के बाद इन मोबाइल नंबरों से OTP टेस्ट करें:</p>
        <ul class="mt-2 space-y-1">
          <!-- <li data-login-i18n="login_demo_admin">Admin: 9000000001</li> -->
          <li data-login-i18n="login_demo_user">Buyer/User: 9000000002</li>
          <li data-login-i18n="login_demo_supplier_1">Supplier 1: 9000000003</li>
          <li data-login-i18n="login_demo_supplier_2">Supplier 2: 9000000004</li>
        </ul>
        <p data-login-i18n="login_demo_password_hint" class="mt-2 font-semibold">OTP request के response में demo OTP दिखाई देता है।</p>
      </div>
      {% endif %}
      <pre id="loginResult" data-login-i18n="result_waiting" class="gh-status-pre mt-4 hidden rounded-xl p-3 text-xs" aria-live="polite"></pre>
      <p class="mt-4 text-sm text-slate-600">
        <span data-login-i18n="no_account">अकाउंट नहीं है?</span>
        <span>&nbsp;</span>
        <a href="/register" class="font-semibold text-brand-700 hover:underline" data-login-i18n="register_now">अभी रजिस्टर करें</a>
      </p>
    </article>
  </div>
</section>
{% endblock %}
